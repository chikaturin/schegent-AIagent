from config.database import get_db
from agents.tool.interface.index import State
import json
import os

events = [
    {
        "DayOfWeek": "Monday",
        "title": "T·∫≠p th·ªÉ d·ª•c bu·ªïi s√°ng",
        "description": "Kh·ªüi ƒë·ªông ng√†y m·ªõi v·ªõi b√†i t·∫≠p nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-01T06:00:00",
        "end_time": "2024-07-01T06:30:00",
        "icon": "üßò‚Äç‚ôÄÔ∏è",
        "priority": "medium",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Monday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay l√†nh m·∫°nh.",
        "location": "Nh√†",
        "start_time": "2024-07-01T06:30:00",
        "end_time": "2024-07-01T07:00:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Monday",
        "title": "H·ªçc t·∫≠p",
        "description": "H·ªçc c√°c m√¥n quan tr·ªçng.",
        "location": "Th∆∞ vi·ªán",
        "start_time": "2024-07-01T07:00:00",
        "end_time": "2024-07-01T11:00:00",
        "icon": "üìö",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Monday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "Ngh·ªâ ng∆°i gi·ªØa bu·ªïi h·ªçc.",
        "location": "Qu√°n cafe",
        "start_time": "2024-07-01T11:00:00",
        "end_time": "2024-07-01T11:30:00",
        "icon": "‚òï",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Monday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-01T11:30:00",
        "end_time": "2024-07-01T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Monday",
        "title": "L√†m vi·ªác",
        "description": "Gi·∫£i quy·∫øt c√¥ng vi·ªác.",
        "location": "VƒÉn ph√≤ng",
        "start_time": "2024-07-01T12:30:00",
        "end_time": "2024-07-01T17:00:00",
        "icon": "üíº",
        "priority": "medium",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Monday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "ƒêi d·∫°o th∆∞ gi√£n.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-01T17:00:00",
        "end_time": "2024-07-01T17:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Monday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-01T18:30:00",
        "end_time": "2024-07-01T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Monday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-01T21:30:00",
        "end_time": "2024-07-01T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Tuesday",
        "title": "Ng√†y vui ch∆°i",
        "description": "T·∫≠n h∆∞·ªüng tr·ªçn v·∫πn m·ªôt ng√†y vui v·∫ª.",
        "location": "Kh√¥ng x√°c ƒë·ªãnh",
        "start_time": "2024-07-02T06:00:00",
        "end_time": "2024-07-02T23:00:00",
        "icon": "üéâ",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "T·∫≠p th·ªÉ d·ª•c bu·ªïi s√°ng",
        "description": "Kh·ªüi ƒë·ªông ng√†y m·ªõi v·ªõi b√†i t·∫≠p nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-03T06:00:00",
        "end_time": "2024-07-03T06:30:00",
        "icon": "üßò‚Äç‚ôÄÔ∏è",
        "priority": "medium",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay l√†nh m·∫°nh.",
        "location": "Nh√†",
        "start_time": "2024-07-03T06:30:00",
        "end_time": "2024-07-03T07:00:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "H·ªçc t·∫≠p",
        "description": "H·ªçc c√°c m√¥n quan tr·ªçng.",
        "location": "Th∆∞ vi·ªán",
        "start_time": "2024-07-03T07:00:00",
        "end_time": "2024-07-03T11:00:00",
        "icon": "üìö",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "Ngh·ªâ ng∆°i gi·ªØa bu·ªïi h·ªçc.",
        "location": "Qu√°n cafe",
        "start_time": "2024-07-03T11:00:00",
        "end_time": "2024-07-03T11:30:00",
        "icon": "‚òï",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-03T11:30:00",
        "end_time": "2024-07-03T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "L√†m vi·ªác",
        "description": "Gi·∫£i quy·∫øt c√¥ng vi·ªác.",
        "location": "VƒÉn ph√≤ng",
        "start_time": "2024-07-03T12:30:00",
        "end_time": "2024-07-03T17:00:00",
        "icon": "üíº",
        "priority": "medium",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "ƒêi d·∫°o th∆∞ gi√£n.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-03T17:00:00",
        "end_time": "2024-07-03T17:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-03T18:30:00",
        "end_time": "2024-07-03T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Wednesday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-03T21:30:00",
        "end_time": "2024-07-03T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "T·∫≠p th·ªÉ d·ª•c bu·ªïi s√°ng",
        "description": "Kh·ªüi ƒë·ªông ng√†y m·ªõi v·ªõi b√†i t·∫≠p nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-04T06:00:00",
        "end_time": "2024-07-04T06:30:00",
        "icon": "üßò‚Äç‚ôÄÔ∏è",
        "priority": "medium",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay l√†nh m·∫°nh.",
        "location": "Nh√†",
        "start_time": "2024-07-04T06:30:00",
        "end_time": "2024-07-04T07:00:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "H·ªçc t·∫≠p",
        "description": "H·ªçc c√°c m√¥n quan tr·ªçng.",
        "location": "Th∆∞ vi·ªán",
        "start_time": "2024-07-04T07:00:00",
        "end_time": "2024-07-04T11:00:00",
        "icon": "üìö",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "Ngh·ªâ ng∆°i gi·ªØa bu·ªïi h·ªçc.",
        "location": "Qu√°n cafe",
        "start_time": "2024-07-04T11:00:00",
        "end_time": "2024-07-04T11:30:00",
        "icon": "‚òï",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-04T11:30:00",
        "end_time": "2024-07-04T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "L√†m vi·ªác",
        "description": "Gi·∫£i quy·∫øt c√¥ng vi·ªác.",
        "location": "VƒÉn ph√≤ng",
        "start_time": "2024-07-04T12:30:00",
        "end_time": "2024-07-04T17:00:00",
        "icon": "üíº",
        "priority": "medium",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "ƒêi d·∫°o th∆∞ gi√£n.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-04T17:00:00",
        "end_time": "2024-07-04T17:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-04T18:30:00",
        "end_time": "2024-07-04T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Thursday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-04T21:30:00",
        "end_time": "2024-07-04T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "T·∫≠p th·ªÉ d·ª•c bu·ªïi s√°ng",
        "description": "Kh·ªüi ƒë·ªông ng√†y m·ªõi v·ªõi b√†i t·∫≠p nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-05T06:00:00",
        "end_time": "2024-07-05T06:30:00",
        "icon": "üßò‚Äç‚ôÄÔ∏è",
        "priority": "medium",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Friday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay l√†nh m·∫°nh.",
        "location": "Nh√†",
        "start_time": "2024-07-05T06:30:00",
        "end_time": "2024-07-05T07:00:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Friday",
        "title": "H·ªçc t·∫≠p",
        "description": "H·ªçc c√°c m√¥n quan tr·ªçng.",
        "location": "Th∆∞ vi·ªán",
        "start_time": "2024-07-05T07:00:00",
        "end_time": "2024-07-05T11:00:00",
        "icon": "üìö",
        "priority": "high",
        "event_category": "habit",
    },
    {
        "DayOfWeek": "Friday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "Ngh·ªâ ng∆°i gi·ªØa bu·ªïi h·ªçc.",
        "location": "Qu√°n cafe",
        "start_time": "2024-07-05T11:00:00",
        "end_time": "2024-07-05T11:30:00",
        "icon": "‚òï",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-05T11:30:00",
        "end_time": "2024-07-05T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "L√†m vi·ªác",
        "description": "Gi·∫£i quy·∫øt c√¥ng vi·ªác.",
        "location": "VƒÉn ph√≤ng",
        "start_time": "2024-07-05T12:30:00",
        "end_time": "2024-07-05T17:00:00",
        "icon": "üíº",
        "priority": "medium",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "Ngh·ªâ ng∆°i",
        "description": "ƒêi d·∫°o th∆∞ gi√£n.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-05T17:00:00",
        "end_time": "2024-07-05T17:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay nh·∫π nh√†ng.",
        "location": "Nh√†",
        "start_time": "2024-07-05T18:30:00",
        "end_time": "2024-07-05T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Friday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-05T21:30:00",
        "end_time": "2024-07-05T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "T·∫≠p th·ªÉ d·ª•c nh·∫π nh√†ng",
        "description": "Yoga ho·∫∑c ƒëi b·ªô.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-06T07:00:00",
        "end_time": "2024-07-06T07:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay.",
        "location": "Nh√†",
        "start_time": "2024-07-06T07:30:00",
        "end_time": "2024-07-06T08:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "Th∆∞ gi√£n",
        "description": "Xem phim ho·∫∑c nghe nh·∫°c.",
        "location": "Nh√†",
        "start_time": "2024-07-06T08:30:00",
        "end_time": "2024-07-06T11:30:00",
        "icon": " relaxation",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-06T11:30:00",
        "end_time": "2024-07-06T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "ƒêi ch∆°i",
        "description": "G·∫∑p g·ª° b·∫°n b√®.",
        "location": "Qu√°n cafe",
        "start_time": "2024-07-06T14:00:00",
        "end_time": "2024-07-06T17:00:00",
        "icon": "‚òï",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay.",
        "location": "Nh√†",
        "start_time": "2024-07-06T18:30:00",
        "end_time": "2024-07-06T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Saturday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-06T21:30:00",
        "end_time": "2024-07-06T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "T·∫≠p th·ªÉ d·ª•c nh·∫π nh√†ng",
        "description": "Yoga ho·∫∑c ƒëi b·ªô.",
        "location": "C√¥ng vi√™n",
        "start_time": "2024-07-07T07:00:00",
        "end_time": "2024-07-07T07:30:00",
        "icon": "üö∂‚Äç‚ôÄÔ∏è",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "ƒÇn s√°ng",
        "description": "B·ªØa s√°ng chay.",
        "location": "Nh√†",
        "start_time": "2024-07-07T07:30:00",
        "end_time": "2024-07-07T08:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "Th∆∞ gi√£n",
        "description": "Xem phim ho·∫∑c nghe nh·∫°c.",
        "location": "Nh√†",
        "start_time": "2024-07-07T08:30:00",
        "end_time": "2024-07-07T11:30:00",
        "icon": " relaxation",
        "priority": "low",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "ƒÇn tr∆∞a",
        "description": "B·ªØa tr∆∞a chay.",
        "location": "Nh√†",
        "start_time": "2024-07-07T11:30:00",
        "end_time": "2024-07-07T12:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "T·ªïng k·∫øt tu·∫ßn",
        "description": "Xem l·∫°i nh·ªØng g√¨ ƒë√£ l√†m trong tu·∫ßn.",
        "location": "Nh√†",
        "start_time": "2024-07-07T14:00:00",
        "end_time": "2024-07-07T16:00:00",
        "icon": " reflection",
        "priority": "medium",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "ƒÇn t·ªëi",
        "description": "B·ªØa t·ªëi chay.",
        "location": "Nh√†",
        "start_time": "2024-07-07T18:30:00",
        "end_time": "2024-07-07T19:30:00",
        "icon": "üçΩÔ∏è",
        "priority": "high",
        "event_category": "general",
    },
    {
        "DayOfWeek": "Sunday",
        "title": "ƒê·ªçc s√°ch",
        "description": "ƒê·ªçc s√°ch tr∆∞·ªõc khi ng·ªß.",
        "location": "Ph√≤ng ng·ªß",
        "start_time": "2024-07-07T21:30:00",
        "end_time": "2024-07-07T22:30:00",
        "icon": "üìñ",
        "priority": "low",
        "event_category": "general",
    },
]


def accept_schedule(state: State):
    print("‚è≥ Saving new schedule from file...")

    # conn = get_db()
    # cursor = conn.cursor()

    # # T·∫°o b·∫£ng n·∫øu ch∆∞a c√≥
    # cursor.execute(
    #     """
    #     CREATE TABLE IF NOT EXISTS events (
    #         id SERIAL PRIMARY KEY,
    #         day_of_week TEXT NOT NULL,
    #         title TEXT NOT NULL,
    #         description TEXT,
    #         location TEXT,
    #         start_time TEXT NOT NULL,
    #         end_time TEXT NOT NULL,
    #         icon TEXT,
    #         priority TEXT DEFAULT 'medium',
    #         event_category TEXT DEFAULT 'general',
    #         created_at TEXT DEFAULT CURRENT_TIMESTAMP,
    #         updated_at TEXT DEFAULT CURRENT_TIMESTAMP
    #     )
    # """
    # )

    # # L∆∞u t·ª´ng s·ª± ki·ªán
    # for event in events:
    #     cursor.execute(
    #         """
    #         INSERT INTO events (
    #             day_of_week,
    #             title, description, location, start_time, end_time,
    #              icon, priority, event_category
    #         )
    #         VALUES (%s,%s, %s, %s, %s, %s, %s, %s, %s)
    #         """,
    #         (
    #             event["DayOfWeek"],
    #             event["title"],
    #             event["description"],
    #             event["location"],
    #             event["start_time"],
    #             event["end_time"],
    #             event["icon"],
    #             event["priority"],
    #             event["event_category"],
    #         ),
    #     )

    # conn.commit()
    # cursor.close()
    print("‚úÖ L·ªãch tr√¨nh ƒë√£ ƒë∆∞·ª£c l∆∞u t·ª´ file th√†nh c√¥ng.")
    state["messages"].append(
        {"role": "assistant", "content": "‚úÖ L·ªãch tr√¨nh ƒë√£ ƒë∆∞·ª£c l∆∞u th√†nh c√¥ng."}
    )
    state["message_type"] = "schedule_created"

    return state
